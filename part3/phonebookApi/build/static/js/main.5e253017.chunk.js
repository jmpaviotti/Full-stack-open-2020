(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{14:function(e,n,t){e.exports=t(36)},36:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),u=t(13),o=t.n(u),c=t(2),l=function(e){var n=e.message,t={color:e.color,background:"lightgrey",fontSize:20,borderStyle:"solid",borderRadius:5,padding:10,marginBottom:10};return null===n?null:r.a.createElement("div",{style:t},n)},i=function(e){var n=e.value,t=e.handler;return r.a.createElement("div",null,"Filter shown with ",r.a.createElement("input",{value:n,onChange:t}))},m=function(e){var n=e.name,t=e.number,a=e.nameHandler,u=e.numberHandler,o=e.formHandler;return r.a.createElement("form",{onSubmit:o},r.a.createElement("div",null,"name: ",r.a.createElement("input",{value:n,onChange:a})),r.a.createElement("div",null,"number: ",r.a.createElement("input",{value:t,onChange:u})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"add")))},d=function(e){var n=e.entry,t=e.handler;return r.a.createElement("div",null,n.name," ",n.number," ",r.a.createElement("button",{onClick:function(){return t(n)}},"delete"))},f=function(e){var n=e.array,t=e.handler;return r.a.createElement("div",null,n.map((function(e){return r.a.createElement(d,{key:e.name,entry:e,handler:t})})))},s=t(3),b=t.n(s),h="/api/persons",v=function(){return b.a.get(h).then((function(e){return e.data}))},E=function(e){return b.a.post(h,e).then((function(e){return e.data}))},p=function(e,n){return b.a.put("".concat(h,"/").concat(n),e).then((function(e){return e.data}))},g=function(e){return b.a.delete("".concat(h,"/").concat(e)).then((function(e){return e.data}))},w=function(){var e=Object(a.useState)([]),n=Object(c.a)(e,2),t=n[0],u=n[1],o=Object(a.useState)(null),d=Object(c.a)(o,2),s=d[0],b=d[1],h=Object(a.useState)(""),w=Object(c.a)(h,2),y=w[0],O=w[1],j=Object(a.useState)(""),S=Object(c.a)(j,2),k=S[0],C=S[1],H=Object(a.useState)(""),T=Object(c.a)(H,2),x=T[0],A=T[1],B=Object(a.useState)(""),D=Object(c.a)(B,2),J=D[0],L=D[1],z=t.filter((function(e){return-1!==e.name.toLowerCase().indexOf(k)}));return Object(a.useEffect)((function(){v().then((function(e){u(e)}))}),[]),r.a.createElement("div",null,r.a.createElement("h2",null,"Phonebook"),r.a.createElement(l,{message:s,color:y}),r.a.createElement(i,{value:k,handler:function(e){C(e.target.value.toLowerCase())}}),r.a.createElement("h2",null,"Add new"),r.a.createElement(m,{name:x,number:J,nameHandler:function(e){A(e.target.value)},numberHandler:function(e){L(e.target.value)},formHandler:function(e){e.preventDefault();var n={name:x,number:J},a=t.find((function(e){return e.name===n.name}));if(a){var r=a.id;window.confirm("".concat(x," is already in phonebook, do you want to replace the old phone number with a new one?"))&&p(n,r).then((function(e){u(t.map((function(n){return n.id!==r?n:e}))),O("green"),b("Updated ".concat(n.name)),setTimeout((function(){b(null)}),5e3),A(""),L("")})).catch((function(e){O("red"),b("Entry for '".concat(n.name,"' has already been removed from server")),setTimeout((function(){b(null)}),5e3),u(t.filter((function(e){return e.id!==r})))}))}else E(n).then((function(e){u(t.concat(e)),O("green"),b("Added ".concat(n.name)),setTimeout((function(){b(null)}),5e3),A(""),L("")}))}}),r.a.createElement("h2",null,"Numbers"),r.a.createElement(f,{array:z,handler:function(e){window.confirm("Delete ".concat(e.name,"?"))&&g(e.id).then((function(n){u(t.filter((function(n){return n.id!==e.id})))}))}}))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(w,null)),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.5e253017.chunk.js.map